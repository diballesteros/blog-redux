[{"_1":2},"routes/$slug",{"_3":4},"data",{"_5":6,"_26":27},"post",{"_7":8,"_9":10,"_11":12,"_13":14,"_15":16,"_18":19,"_20":21,"_22":23,"_24":25},"slug","hello-world","title","How To Create a Stunning Side Drawer with React-spring","date","","description","How to create react and react-spring to create a stunning side drawer component using typescript. Includes an overlay and animations.","categories",[17],"react","coverImage","https://cdn.hashnode.com/res/hashnode/image/upload/v1651104897444/qLXiYp1Lo.png","published",true,"readingTime",4,"content","\r\n### Introduction\r\n\r\nA side drawer component is a common UI pattern used in all sorts of apps, ranging from mobile apps to web apps to desktop apps.\r\n\r\nSo what is a side drawer?\r\n\r\nA side drawer component is a sliding panel that can be used to display additional information or actions.\r\n\r\nAt my job, I recently had to create a side drawer and due to specific constraints had to create it using react-spring. These are the steps I took to create one from scratch.\r\n\r\n### Requirements\r\n\r\n-   Button to toggle the side drawer.\r\n-   Secondly, animate the dimmed overlay and side drawer.\r\n-   Finally, clicking on the overlay should hide the overlay and side drawer.\r\n\r\n### Breaking it down\r\n\r\nWith the requirements taken into consideration I figured I should first break it down into steps:\r\n\r\n1. Show button\r\n2. Animate overlay on button click\r\n3. Animate side drawer\r\n4. Close on overlay click\r\n\r\n### Code-along\r\n\r\nFirst and foremost, let's create the button that will handle the on-click event. The click event should toggle the state of the side drawer\r\n\r\n```js\r\nexport default function App() {\r\n\tconst [show, setShow] = useState();\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<button onClick={() => setShow((prevState) => !prevState)}>\r\n\t\t\t\tClick me\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n```\r\n\r\n![click me](https://cdn.hashnode.com/res/hashnode/image/upload/v1649263516704/GVgufN_TN.png)\r\n\r\nEasy enough. Now, let's start hooking up react-spring to the state we just created. Thinking about how the animations will work first we want to display the overlay as well as push out the side drawer at the same time. The contents inside of the side drawer don’t really concern us too much but in order for the transitions to be used fluidly and prevent state management errors let’s use **useTransitition**.\r\n\r\n**useTransition** is a hook provided to us by react-spring specifically for the task of tackling lifecycles!\r\n\r\n```js\r\nconst transitions = useTransition(show, null, {\r\n\tfrom: { position: 'fixed', opacity: 0, width: 0 },\r\n\tenter: { opacity: 1, width: 320 },\r\n\tleave: { opacity: 0, width: 0 },\r\n});\r\n```\r\n\r\nNow let’s break down the hook itself. We are evaluating the show state we had set earlier and are declaring two styles to adjust: the opacity of the overlay and the width of the side drawer.\r\n\r\n### The Overlay\r\n\r\nFirst, let’s code up the overlay; all we have to do is display a dimmed div.\r\n\r\n```js\r\n<div className=\"App\">\r\n\t<button onClick={() => setShow((prevState) => !prevState)}>Click me</button>\r\n\t{transitions?.map(\r\n\t\t({ item, key, props }) =>\r\n\t\t\titem && (\r\n\t\t\t\t<animated.div\r\n\t\t\t\t\tkey={key}\r\n\t\t\t\t\tstyle={{ opacity: props.opacity }}\r\n\t\t\t\t\tclassName=\"overlay\"\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t)}\r\n</div>\r\n```\r\n\r\nTransitions must be mapped over. The key is for react to differentiate between the different items in the array. Because we are only interested in the overlay for the moment we will pass the opacity we declared in the previous hook.\r\n\r\n![overlay](https://cdn.hashnode.com/res/hashnode/image/upload/v1649263517819/MPjqHgmNz.png)\r\n\r\n### Side drawer\r\n\r\nNow lets go ahead and animate the inner side drawer as well.\r\n\r\n```js\r\n<div className=\"App\">\r\n\t<button onClick={() => setShow((prevState) => !prevState)}>Click me</button>\r\n\t{transitions?.map(\r\n\t\t({ item, key, props }) =>\r\n\t\t\titem && (\r\n\t\t\t\t<animated.div\r\n\t\t\t\t\tkey={key}\r\n\t\t\t\t\tstyle={{ opacity: props.opacity }}\r\n\t\t\t\t\tclassName=\"overlay\">\r\n\t\t\t\t\t<animated.div\r\n\t\t\t\t\t\tstyle={{ width: props.width }}\r\n\t\t\t\t\t\tclassName=\"drawer\">\r\n\t\t\t\t\t\tHey look it's a side drawer!\r\n\t\t\t\t\t</animated.div>\r\n\t\t\t\t</animated.div>\r\n\t\t\t)\r\n\t)}\r\n</div>\r\n```\r\n\r\nSimilar to the overlay, we create our animated div and pass in the width from **useTransition**.\r\n\r\n![sidedrawer](https://cdn.hashnode.com/res/hashnode/image/upload/v1649263518895/Xm8jX4bNy.png)\r\n\r\nAll that’s left to do is close the overlay when we click it for a great user experience.\r\n\r\n```js\r\n<animated.div style={{ width: props.width }} className=\"drawer\">\r\n  Hey look it's a side drawer!\r\n</animated.div>\r\n<div className=\"fill\" onClick={() => setShow(false)} />\r\n```\r\n\r\nRight next to the side drawer div we will put the div that handles the on-click event.\r\n\r\nAnd with that, we’re done!\r\n\r\nHeres a working example of the code:\r\n\r\nhttps://codesandbox.io/embed/sidedrawer-react-spring-klkf2?fontsize=14&hidenavigation=1&theme=dark\r\n","recommendations",[28,35,43,49],{"_7":29,"_9":30,"_11":12,"_13":31,"_15":32,"_18":34,"_20":21,"_22":23},"what-is-imposter-syndrome-and-how-i-deal-with-it","What is imposter syndrome? And how I deal with it","Imposter syndrome is a common feeling to have as a software developer even if you've been doing it for years. I go over my personal experiences with it.",[33],"devlog","https://cdn.hashnode.com/res/hashnode/image/upload/v1651102112425/KKsbnfbCK.png",{"_7":36,"_9":37,"_11":12,"_13":38,"_15":39,"_18":41,"_20":21,"_22":42},"testing-a-reaction-application-updating-to-cypress-version-10","Testing a Reaction Application updating to Cypress Version 10","Testing a modern React application. In this part of the series, we go over how to update Cypress to version 10.",[40,17],"testing","https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png",3,{"_7":44,"_9":45,"_11":12,"_13":46,"_15":47,"_18":41,"_20":21,"_22":48},"testing-a-react-application-working-with-codecov","Testing a React Application Working with Codecov","How to test a React web application and upload the test code coverage results to Codecov.",[40,17],5,{"_7":50,"_9":51,"_11":12,"_13":52,"_15":53,"_18":41,"_20":21,"_22":23},"testing-a-react-application-what-is-vitest","Testing a React Application What is Vitest?","The third part of a series of articles on how to test a React Application. I go over how Vitest and its syntax work in the simplest terms.",[40,17]]
