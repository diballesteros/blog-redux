[{"_1":2},"routes/$slug",{"_3":4},"data",{"_5":6,"_27":28},"post",{"_7":8,"_9":10,"_11":12,"_13":14,"_15":16,"_19":20,"_21":22,"_23":24,"_25":26},"slug","testing-a-react-application-the-setup","title","Testing a React Application The Setup","date","","description","In the second part of my series on how to perform modern testing for a React application, I go over the setup of the react application and the testing packages.","categories",[17,18],"testing","react","coverImage","https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png","published",true,"readingTime",4,"content","\r\n### Introduction\r\n\r\nThe second part of my ongoing series on how to have a more modern approach to testing a React application. Last time I went over the tools I prefer using. ðŸ”¨\r\n\r\n-   Cypress for End-to-End testing\r\n-   Vitest for Unit Testing\r\n-   MSW for mocking our services\r\n\r\nIn this post, Iâ€™ll go over how to install everything before heading into the testing.\r\n\r\nWhen first getting into testing it can be a little daunting with so many sources claiming what is the ideal way to test and what are the best packages or frameworks to use. But, in order to appreciate the testing frameworks, itâ€™s important to see them in action in an application\r\n\r\nI hope to give a very opinionated view on how to test in order to avoid decision paralysis and just get to testing!\r\n\r\n### Setting up a React app for Testing\r\n\r\nIâ€™ve gone ahead and created a barebones application for the purposes of going through testing. You can find it here. This is the commit of its initial state [right here](https://github.com/diballesteros/react-testing/commit/b4514d2a3b6afc8f850e012264fbb949462afa62).\r\n\r\n![github repo](https://cdn.hashnode.com/res/hashnode/image/upload/v1650898959643/ALGy1tKEg.png)\r\n_GitHub repository files_\r\n\r\nItâ€™s a simple react application powered by Vite that loads posts from [https://jsonplaceholder.typicode.com/posts](https://jsonplaceholder.typicode.com/posts) when a button is clicked.\r\n\r\nHere is what it looks like:\r\n\r\n![barebones react app](https://cdn.hashnode.com/res/hashnode/image/upload/v1650898960866/P8SFjttzr.gif)\r\n_Fetching JSON, nothing fancy_\r\n\r\nJust to give a very brief overview of the code:\r\n\r\n```js\r\nimport { useState } from 'react';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n\tconst [posts, setPosts] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst fetchPosts = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst response = await fetch(\r\n\t\t\t'https://jsonplaceholder.typicode.com/posts'\r\n\t\t);\r\n\t\tconst json = await response.json();\r\n\t\tsetPosts(json);\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tconst clearPosts = () => {\r\n\t\tsetPosts([]);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<header className=\"App-header\">\r\n\t\t\t\t<h1>Modern React Testing</h1>\r\n\t\t\t</header>\r\n\t\t\t<main className=\"App-content\">\r\n\t\t\t\t<section className=\"App-buttons\">\r\n\t\t\t\t\t<button onClick={fetchPosts} type=\"button\">\r\n\t\t\t\t\t\tFetch Posts\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button onClick={clearPosts} type=\"button\">\r\n\t\t\t\t\t\tClear posts\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</section>\r\n\t\t\t\t{loading && <p>Loading...</p>}\r\n\t\t\t\t{posts.map((post) => (\r\n\t\t\t\t\t<article key={post.id}>\r\n\t\t\t\t\t\t<h3>{post.title}</h3>\r\n\t\t\t\t\t\t<p>{post.body}</p>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t))}\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t);\r\n}\r\n```\r\n\r\nWe have two functions:\r\n\r\n-   **fetchPostsâ€Š** â€”â€ŠCalls the endpoint and fetches posts with a title, body, and id. This is set inside our local state\r\n-   **clearPosts** â€Šâ€”â€ŠResets the local state to an empty array\r\n\r\nThese posts are then iterated over and displayed with a **map** function.\r\n\r\n### Why this application?\r\n\r\n![why in letter blocks](https://cdn.hashnode.com/res/hashnode/image/upload/v1650898962160/GRZv40fuic.jpeg)\r\n\r\nFetching, transforming, and displaying a request to an API is probably the most common task in application development. This app will allow us to test exactly those things.\r\n\r\nWeâ€™ll eventually go on to **mock** the JSON service with MSW. Do some end-to-end visual testing with Cypress and go through **how a test can be created** with their test-runner. Finally, with Vitest weâ€™ll create some unit tests to go gain some confidence around our **individual components** and **transformation functions**.\r\n\r\nI tried to keep it as simple as possible to focus on whatâ€™s important to us. The testing! ðŸ’¯\r\n\r\n### Setting up the Testing Packages\r\n\r\nThis will just be a simple package installation:\r\n\r\nFor Vitest:\r\n\r\n```\r\nnpm install -D vitest\r\n```\r\n\r\nFor Cypress:\r\n\r\n```\r\nnpm install -D cypress\r\n```\r\n\r\nFor MSW:\r\n\r\n```\r\nnpm install -D msw\r\n```\r\n\r\nOr all at once:\r\n\r\n```\r\nnpm install -D vitest cypress msw\r\n```\r\n\r\n### Wrapping it up\r\n\r\nHereâ€™s the [same repository](https://github.com/diballesteros/react-testing/tree/c7530cd63f37c97d198e085a6d340f69ac330c4c) with the updated commit and all the packages correctly installed.\r\n\r\nNow weâ€™re finally ready to dive headfirst into the intricacies of the testing libraries. Next time Iâ€™ll go over how Vitest and how to use its simple syntax.\r\n\r\nThank you for reading! If you have any more questions donâ€™t hesitate to reach out.\r\n\r\nMore content at [Relatable Code](https://relatablecode.com)\r\n\r\n### Letâ€™s connect!\r\n\r\nIf you liked this feel free to connect with me on [LinkedIn](https://www.linkedin.com/in/relatablecode) or [Twitter](https://twitter.com/relatablecoder)\r\n\r\nCheck out my free developer roadmap and weekly tech industry news in my [newsletter](https://relatablecode.substack.com/).\r\n","recommendations",[29,36,42,48],{"_7":30,"_9":31,"_11":12,"_13":32,"_15":33,"_19":35,"_21":22,"_23":24},"what-is-imposter-syndrome-and-how-i-deal-with-it","What is imposter syndrome? And how I deal with it","Imposter syndrome is a common feeling to have as a software developer even if you've been doing it for years. I go over my personal experiences with it.",[34],"devlog","https://cdn.hashnode.com/res/hashnode/image/upload/v1651102112425/KKsbnfbCK.png",{"_7":37,"_9":38,"_11":12,"_13":39,"_15":40,"_19":20,"_21":22,"_23":41},"testing-a-reaction-application-updating-to-cypress-version-10","Testing a Reaction Application updating to Cypress Version 10","Testing a modern React application. In this part of the series, we go over how to update Cypress to version 10.",[17,18],3,{"_7":43,"_9":44,"_11":12,"_13":45,"_15":46,"_19":20,"_21":22,"_23":47},"testing-a-react-application-working-with-codecov","Testing a React Application Working with Codecov","How to test a React web application and upload the test code coverage results to Codecov.",[17,18],5,{"_7":49,"_9":50,"_11":12,"_13":51,"_15":52,"_19":20,"_21":22,"_23":24},"testing-a-react-application-what-is-vitest","Testing a React Application What is Vitest?","The third part of a series of articles on how to test a React Application. I go over how Vitest and its syntax work in the simplest terms.",[17,18]]
