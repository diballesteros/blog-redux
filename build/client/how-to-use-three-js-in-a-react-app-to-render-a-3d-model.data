[{"_1":2},"routes/$slug",{"_3":4},"data",{"_5":6,"_26":27},"post",{"_7":8,"_9":10,"_11":12,"_13":14,"_15":16,"_18":19,"_20":21,"_22":23,"_24":25},"slug","how-to-use-three-js-in-a-react-app-to-render-a-3d-model","title","How to use three.js in a React app to render a 3D model","date","","description","How to quickly set up localizations and translations with react-i18next and i18next framework in a React web application using hooks.","categories",[17],"react","coverImage","https://cdn.hashnode.com/res/hashnode/image/upload/v1644176957809/ZG0SuMgr5.jpeg","published",true,"readingTime",4,"content","\r\n### Introduction\r\n\r\nWhile scouring YouTube I came across the following [video](https://www.youtube.com/watch?v=bSMZgXzC9AA) that is a fairly concise tutorial on how to build a neat-looking portfolio page. But one technology that was used was three.js to render a cool-looking 3D Model with camera controls!\r\n\r\nI wanted to learn how the technology worked and quickly create a standalone sandbox with the same tech stack. I’ll be explaining the process of coding it out and how it works!\r\n\r\n### Set up\r\n\r\n```bash\r\nnpm i three\r\n```\r\n\r\nFirst, let’s go ahead and install the necessary package:\r\n\r\nAnd let’s import it in the file where we want to use it:\r\n\r\n```js\r\nimport * Three from \"three\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\n```\r\n\r\n### Loader function\r\n\r\nThe three.js library has a loader for glTF 2.0 resources (GL Transmission Format). This is the main function we’ll be using to load our model into our app! This should be wrapped with a promise as it’s an asynchronous process. Let’s split this up:\r\n\r\n![loader function](https://cdn.hashnode.com/res/hashnode/image/upload/v1644176959380/tNxVpeCE0.png)\r\n\r\nThis function accepts a scene is how we set p what and where our model is going to be rendered. With this, we can decide how to place inner objects, camera controls, and different lighting effects. The secondary parameter is glbPath, which is the resource of our model, more on that later, and finally any secondary options.\r\n\r\nWe create a new instance of the GLTFLoader and set all our load constants with the internal load function. Traverse in this case is a callback function to maintain the values of castShadow and receiveShadow.\r\n\r\n### The React Component\r\n\r\nNext, let’s create the component, this just requires a ref linked to the useRef hook:\r\n\r\n![react component](https://cdn.hashnode.com/res/hashnode/image/upload/v1644176960810/plaeIF6sR.png)\r\n\r\nLet’s get some of the basic state management out of the way. We need to build a renderer in real-time in the app so we’ll be using the useState hook. As this is real-time we will also be using a useEffect hook to build it after the initial mount:\r\n\r\n![renderer](https://cdn.hashnode.com/res/hashnode/image/upload/v1644176962515/-sdgFOddy.png)\r\n\r\nWe have to make sure the renderer doesn’t already exist as well as check if the component is mounted correctly with the ref. Now we can get into the nitty-gritty details of building out the renderer.\r\n\r\n### Renderer\r\n\r\nThere render we’ll use is the [WebGLRenderer](https://threejs.org/docs/#api/en/renderers/WebGLRenderer). Let’s create this and set up the defaults (all inside the useEffect internal if):\r\n\r\n![webgl renderer](https://cdn.hashnode.com/res/hashnode/image/upload/v1644176963949/Gj4VC08_D.png)\r\n\r\nNothing too crazy to mention here I suggest checking out the docs for more in-depth information on every property that has been set.\r\n\r\n### The controls and scene\r\n\r\nThese are pretty straight-forward and don’t require crazy configurations:\r\n\r\n![controls](https://cdn.hashnode.com/res/hashnode/image/upload/v1644176965911/AjIO8_XuF.png)\r\n\r\nAdded some arbitrary scaling and camera positioning. You can play around with this if you’d like! And some lighting to see the model itself.\r\n\r\nFinally, we can go ahead and animate the model and make sure it works correctly with the controls!\r\n\r\n![schema](https://cdn.hashnode.com/res/hashnode/image/upload/v1644176967843/Bfw3YCoKO.png)\r\n\r\nSome math to help with the rotations as well as updating the controls when necessary. We call the renderer’s render function with all of our properties.\r\n\r\nThe final step for the rendering portion is calling the function we made at the very beginning!\r\n\r\n![schema](https://cdn.hashnode.com/res/hashnode/image/upload/v1644176969738/bLSTOJO0u.png)\r\n\r\nYou have may have noticed a setLoading state. As our load function is asynchronous we need to take into consideration the delay for our model is rendered. The only other noteworthy mention is calling the animate function after correctly loading the model.\r\n\r\n### Side Note\r\n\r\nI obtained the model freely from the following site:\r\n\r\n“Dinosaur” ( [https://skfb.ly/6ZBXA](https://skfb.ly/6ZBXA)) by jeilocreativedesignworld is licensed under Creative Commons Attribution ( [http://creativecommons.org/licenses/by/4.0/](http://creativecommons.org/licenses/by/4.0/)).\r\n\r\n### Conclusion\r\n\r\nAnd that’s it! Here is the full code and final result with everything all hooked up. Any model can be used. I encourage others to experiment with it and play around with the values!\r\n\r\nhttps://codesandbox.io/embed/react-three-render3d-qobqy?fontsize=14&hidenavigation=1&theme=dark\r\n","recommendations",[28,35,43,49],{"_7":29,"_9":30,"_11":12,"_13":31,"_15":32,"_18":34,"_20":21,"_22":23},"what-is-imposter-syndrome-and-how-i-deal-with-it","What is imposter syndrome? And how I deal with it","Imposter syndrome is a common feeling to have as a software developer even if you've been doing it for years. I go over my personal experiences with it.",[33],"devlog","https://cdn.hashnode.com/res/hashnode/image/upload/v1651102112425/KKsbnfbCK.png",{"_7":36,"_9":37,"_11":12,"_13":38,"_15":39,"_18":41,"_20":21,"_22":42},"testing-a-reaction-application-updating-to-cypress-version-10","Testing a Reaction Application updating to Cypress Version 10","Testing a modern React application. In this part of the series, we go over how to update Cypress to version 10.",[40,17],"testing","https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png",3,{"_7":44,"_9":45,"_11":12,"_13":46,"_15":47,"_18":41,"_20":21,"_22":48},"testing-a-react-application-working-with-codecov","Testing a React Application Working with Codecov","How to test a React web application and upload the test code coverage results to Codecov.",[40,17],5,{"_7":50,"_9":51,"_11":12,"_13":52,"_15":53,"_18":41,"_20":21,"_22":23},"testing-a-react-application-what-is-vitest","Testing a React Application What is Vitest?","The third part of a series of articles on how to test a React Application. I go over how Vitest and its syntax work in the simplest terms.",[40,17]]
