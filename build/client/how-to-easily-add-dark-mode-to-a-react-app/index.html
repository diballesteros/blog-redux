<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="preload" as="image" href="https://cdn.hashnode.com/res/hashnode/image/upload/v1651102112425/KKsbnfbCK.png"/><link rel="preload" as="image" href="https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png"/><link rel="modulepreload" href="/assets/manifest-369ebdb0.js"/><link rel="modulepreload" href="/assets/entry.client-CCB5ikfw.js"/><link rel="modulepreload" href="/assets/chunk-WWGJGFF6-vkLKAKmh.js"/><link rel="modulepreload" href="/assets/root-Dp058UYp.js"/><link rel="modulepreload" href="/assets/use-reduced-motion-18noL8zC.js"/><link rel="modulepreload" href="/assets/_slug-jbQufblr.js"/><link rel="modulepreload" href="/assets/index-DwzAXpE7.js"/><link rel="stylesheet" href="/assets/tailwind-ByvWcNst.css"/><script>(() => {
  try {
    const stored = localStorage.getItem('theme');
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const isDark = stored ? stored === 'dark' : prefersDark;
    if (isDark) document.documentElement.classList.add('dark');
    else document.documentElement.classList.remove('dark');
  } catch (_) {}
})();</script></head><body class="min-h-screen bg-bgPrimary text-primary"><div class="relative z-20 mx-auto w-full max-w-6xl px-8"><div class="h-6 md:h-10"></div><header class="align-center relative flex h-16 justify-center p-0" data-testid="header"><a class="flex items-center" title="Relatable Code" aria-label="Relatable Code" href="/" data-discover="true"><h1 class="flex w-fit flex-nowrap text-xl font-medium tracking-widest text-primary sm:text-2xl md:mr-8 lg:mr-12"><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">R</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">e</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">l</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">a</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">t</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">a</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">b</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">l</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">e</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105"> </span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">C</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">o</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">d</span><span class="ml-1 inline-block text-primary duration-200 motion-reduce:hover:rotate-0 motion-reduce:hover:scale-100 sm:hover:-translate-y-1 sm:hover:-rotate-12 sm:hover:scale-105">e</span></h1></a><nav class="font-medium text-primary hidden text-lg md:block"><ul class="flex flex-row"><li class="m-3 p-2"><a tabindex="0" class="relative after:absolute after:-bottom-1 after:left-0 after:block after:h-0.5 after:w-full after:origin-left after:scale-x-0 after:transition after:duration-300 after:ease-in after:content-[&#x27;&#x27;] hover:after:scale-x-100 hover:after:bg-current motion-reduce:after:transition-none" href="/blog" data-discover="true">Blog</a></li></ul></nav><div class="ml-auto hidden items-center justify-center md:flex md:gap-4 lg:gap-8"><button class="bg-sky-300 relative block h-14 w-14 min-w-[3.5rem] cursor-pointer overflow-hidden rounded-full border-2 border-solid border-gray-500 transition duration-700 ease-in-out hover:border-black focus:ring-2 focus:ring-active focus:ring-offset-2 dark:hover:border-white" data-testid="dark-mode" tabindex="0" title="Toggle dark mode" type="button"><span class="absolute inset-0 flex origin-halfway rounded-full bg-black transition duration-1000 motion-reduce:duration-[0s] rotate-180"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute right-1 top-1 h-6 w-6 fill-white"><path fill-rule="evenodd" d="M7.455 2.004a.75.75 0 0 1 .26.77 7 7 0 0 0 9.958 7.967.75.75 0 0 1 1.067.853A8.5 8.5 0 1 1 6.647 1.921a.75.75 0 0 1 .808.083Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute left-1.5 top-5 h-3 w-3 fill-yellow-200"><path d="M15.98 1.804a1 1 0 0 0-1.96 0l-.24 1.192a1 1 0 0 1-.784.785l-1.192.238a1 1 0 0 0 0 1.962l1.192.238a1 1 0 0 1 .785.785l.238 1.192a1 1 0 0 0 1.962 0l.238-1.192a1 1 0 0 1 .785-.785l1.192-.238a1 1 0 0 0 0-1.962l-1.192-.238a1 1 0 0 1-.785-.785l-.238-1.192ZM6.949 5.684a1 1 0 0 0-1.898 0l-.683 2.051a1 1 0 0 1-.633.633l-2.051.683a1 1 0 0 0 0 1.898l2.051.684a1 1 0 0 1 .633.632l.683 2.051a1 1 0 0 0 1.898 0l.683-2.051a1 1 0 0 1 .633-.633l2.051-.683a1 1 0 0 0 0-1.898l-2.051-.683a1 1 0 0 1-.633-.633L6.95 5.684ZM13.949 13.684a1 1 0 0 0-1.898 0l-.184.551a1 1 0 0 1-.632.633l-.551.183a1 1 0 0 0 0 1.898l.551.183a1 1 0 0 1 .633.633l.183.551a1 1 0 0 0 1.898 0l.184-.551a1 1 0 0 1 .632-.633l.551-.183a1 1 0 0 0 0-1.898l-.551-.184a1 1 0 0 1-.633-.632l-.183-.551Z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute bottom-2 right-3 h-3 w-3 fill-yellow-200"><path d="M15.98 1.804a1 1 0 0 0-1.96 0l-.24 1.192a1 1 0 0 1-.784.785l-1.192.238a1 1 0 0 0 0 1.962l1.192.238a1 1 0 0 1 .785.785l.238 1.192a1 1 0 0 0 1.962 0l.238-1.192a1 1 0 0 1 .785-.785l1.192-.238a1 1 0 0 0 0-1.962l-1.192-.238a1 1 0 0 1-.785-.785l-.238-1.192ZM6.949 5.684a1 1 0 0 0-1.898 0l-.683 2.051a1 1 0 0 1-.633.633l-2.051.683a1 1 0 0 0 0 1.898l2.051.684a1 1 0 0 1 .633.632l.683 2.051a1 1 0 0 0 1.898 0l.683-2.051a1 1 0 0 1 .633-.633l2.051-.683a1 1 0 0 0 0-1.898l-2.051-.683a1 1 0 0 1-.633-.633L6.95 5.684ZM13.949 13.684a1 1 0 0 0-1.898 0l-.184.551a1 1 0 0 1-.632.633l-.551.183a1 1 0 0 0 0 1.898l.551.183a1 1 0 0 1 .633.633l.183.551a1 1 0 0 0 1.898 0l.184-.551a1 1 0 0 1 .632-.633l.551-.183a1 1 0 0 0 0-1.898l-.551-.184a1 1 0 0 1-.633-.632l-.183-.551Z"></path></svg></span><span class="absolute inset-0 origin-halfway rounded-full bg-sky-300 transition duration-1000 motion-reduce:duration-[0s] rotate-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute left-2 top-1 h-6 w-6 fill-yellow-400"><path d="M10 2a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 2ZM10 15a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 15ZM10 7a3 3 0 1 0 0 6 3 3 0 0 0 0-6ZM15.657 5.404a.75.75 0 1 0-1.06-1.06l-1.061 1.06a.75.75 0 0 0 1.06 1.06l1.06-1.06ZM6.464 14.596a.75.75 0 1 0-1.06-1.06l-1.06 1.06a.75.75 0 0 0 1.06 1.06l1.06-1.06ZM18 10a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 18 10ZM5 10a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 5 10ZM14.596 15.657a.75.75 0 0 0 1.06-1.06l-1.06-1.061a.75.75 0 1 0-1.06 1.06l1.06 1.06ZM5.404 6.464a.75.75 0 0 0 1.06-1.06l-1.06-1.06a.75.75 0 1 0-1.061 1.06l1.06 1.06Z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute right-0.5 top-4 h-5 w-5 fill-white opacity-80"><path d="M1 12.5A4.5 4.5 0 0 0 5.5 17H15a4 4 0 0 0 1.866-7.539 3.504 3.504 0 0 0-4.504-4.272A4.5 4.5 0 0 0 4.06 8.235 4.502 4.502 0 0 0 1 12.5Z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute bottom-1 left-1.5 h-5 w-5 fill-white opacity-80"><path d="M1 12.5A4.5 4.5 0 0 0 5.5 17H15a4 4 0 0 0 1.866-7.539 3.504 3.504 0 0 0-4.504-4.272A4.5 4.5 0 0 0 4.06 8.235 4.502 4.502 0 0 0 1 12.5Z"></path></svg></span><span class="sr-only">Toggle dark mode</span></button></div><div class="ml-auto flex md:hidden"><button class="relative z-10 flex h-10 w-10 items-center justify-items-center transition-all" type="button"><div class="after:absolute after:left-0 after:h-1 after:w-10 after:translate-y-2 after:rounded after:bg-black after:transition-all duration-1000 after:dark:bg-white before:absolute before:left-0 before:h-1 before:w-10 before:-translate-y-2 before:rounded before:bg-black before:transition-all duration-1000 before:dark:bg-white "></div><span class="sr-only">Toggle navigation sidesheet</span></button></div><aside class="pointer-events-none fixed inset-y-0 right-0 z-[1] w-full overflow-hidden md:hidden" aria-hidden="true" style="transform:translateX(100%)"><div class="pointer-events-auto h-full w-screen max-w-full pt-24"><div class="flex h-full flex-col bg-bgPrimary"><div class="flex h-full flex-col items-start justify-between px-4 pb-4"><nav class="font-medium text-primary text-xl"><ul class="flex flex-col"><li class="m-3 p-2"><a tabindex="-1" class="relative after:absolute after:-bottom-1 after:left-0 after:block after:h-0.5 after:w-full after:origin-left after:scale-x-0 after:transition after:duration-300 after:ease-in after:content-[&#x27;&#x27;] hover:after:scale-x-100 hover:after:bg-current motion-reduce:after:transition-none" href="/blog" data-discover="true">Blog</a></li></ul></nav><div class="flex w-full items-center gap-3 justify-self-end"><button class="bg-sky-300 relative block h-14 w-14 min-w-[3.5rem] cursor-pointer overflow-hidden rounded-full border-2 border-solid border-gray-500 transition duration-700 ease-in-out hover:border-black focus:ring-2 focus:ring-active focus:ring-offset-2 dark:hover:border-white" data-testid="dark-mode" tabindex="-1" title="Toggle dark mode" type="button"><span class="absolute inset-0 flex origin-halfway rounded-full bg-black transition duration-1000 motion-reduce:duration-[0s] rotate-180"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute right-1 top-1 h-6 w-6 fill-white"><path fill-rule="evenodd" d="M7.455 2.004a.75.75 0 0 1 .26.77 7 7 0 0 0 9.958 7.967.75.75 0 0 1 1.067.853A8.5 8.5 0 1 1 6.647 1.921a.75.75 0 0 1 .808.083Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute left-1.5 top-5 h-3 w-3 fill-yellow-200"><path d="M15.98 1.804a1 1 0 0 0-1.96 0l-.24 1.192a1 1 0 0 1-.784.785l-1.192.238a1 1 0 0 0 0 1.962l1.192.238a1 1 0 0 1 .785.785l.238 1.192a1 1 0 0 0 1.962 0l.238-1.192a1 1 0 0 1 .785-.785l1.192-.238a1 1 0 0 0 0-1.962l-1.192-.238a1 1 0 0 1-.785-.785l-.238-1.192ZM6.949 5.684a1 1 0 0 0-1.898 0l-.683 2.051a1 1 0 0 1-.633.633l-2.051.683a1 1 0 0 0 0 1.898l2.051.684a1 1 0 0 1 .633.632l.683 2.051a1 1 0 0 0 1.898 0l.683-2.051a1 1 0 0 1 .633-.633l2.051-.683a1 1 0 0 0 0-1.898l-2.051-.683a1 1 0 0 1-.633-.633L6.95 5.684ZM13.949 13.684a1 1 0 0 0-1.898 0l-.184.551a1 1 0 0 1-.632.633l-.551.183a1 1 0 0 0 0 1.898l.551.183a1 1 0 0 1 .633.633l.183.551a1 1 0 0 0 1.898 0l.184-.551a1 1 0 0 1 .632-.633l.551-.183a1 1 0 0 0 0-1.898l-.551-.184a1 1 0 0 1-.633-.632l-.183-.551Z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute bottom-2 right-3 h-3 w-3 fill-yellow-200"><path d="M15.98 1.804a1 1 0 0 0-1.96 0l-.24 1.192a1 1 0 0 1-.784.785l-1.192.238a1 1 0 0 0 0 1.962l1.192.238a1 1 0 0 1 .785.785l.238 1.192a1 1 0 0 0 1.962 0l.238-1.192a1 1 0 0 1 .785-.785l1.192-.238a1 1 0 0 0 0-1.962l-1.192-.238a1 1 0 0 1-.785-.785l-.238-1.192ZM6.949 5.684a1 1 0 0 0-1.898 0l-.683 2.051a1 1 0 0 1-.633.633l-2.051.683a1 1 0 0 0 0 1.898l2.051.684a1 1 0 0 1 .633.632l.683 2.051a1 1 0 0 0 1.898 0l.683-2.051a1 1 0 0 1 .633-.633l2.051-.683a1 1 0 0 0 0-1.898l-2.051-.683a1 1 0 0 1-.633-.633L6.95 5.684ZM13.949 13.684a1 1 0 0 0-1.898 0l-.184.551a1 1 0 0 1-.632.633l-.551.183a1 1 0 0 0 0 1.898l.551.183a1 1 0 0 1 .633.633l.183.551a1 1 0 0 0 1.898 0l.184-.551a1 1 0 0 1 .632-.633l.551-.183a1 1 0 0 0 0-1.898l-.551-.184a1 1 0 0 1-.633-.632l-.183-.551Z"></path></svg></span><span class="absolute inset-0 origin-halfway rounded-full bg-sky-300 transition duration-1000 motion-reduce:duration-[0s] rotate-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute left-2 top-1 h-6 w-6 fill-yellow-400"><path d="M10 2a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 2ZM10 15a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 15ZM10 7a3 3 0 1 0 0 6 3 3 0 0 0 0-6ZM15.657 5.404a.75.75 0 1 0-1.06-1.06l-1.061 1.06a.75.75 0 0 0 1.06 1.06l1.06-1.06ZM6.464 14.596a.75.75 0 1 0-1.06-1.06l-1.06 1.06a.75.75 0 0 0 1.06 1.06l1.06-1.06ZM18 10a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 18 10ZM5 10a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 5 10ZM14.596 15.657a.75.75 0 0 0 1.06-1.06l-1.06-1.061a.75.75 0 1 0-1.06 1.06l1.06 1.06ZM5.404 6.464a.75.75 0 0 0 1.06-1.06l-1.06-1.06a.75.75 0 1 0-1.061 1.06l1.06 1.06Z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute right-0.5 top-4 h-5 w-5 fill-white opacity-80"><path d="M1 12.5A4.5 4.5 0 0 0 5.5 17H15a4 4 0 0 0 1.866-7.539 3.504 3.504 0 0 0-4.504-4.272A4.5 4.5 0 0 0 4.06 8.235 4.502 4.502 0 0 0 1 12.5Z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="absolute bottom-1 left-1.5 h-5 w-5 fill-white opacity-80"><path d="M1 12.5A4.5 4.5 0 0 0 5.5 17H15a4 4 0 0 0 1.866-7.539 3.504 3.504 0 0 0-4.504-4.272A4.5 4.5 0 0 0 4.06 8.235 4.502 4.502 0 0 0 1 12.5Z"></path></svg></span><span class="sr-only">Toggle dark mode</span></button></div></div></div></div></aside></header></div><main class="mx-auto flex max-w-6xl flex-col px-8 text-primary"><div class="h-6 md:h-40"></div><a class="text-lg font-medium hover:text-active" href="/blog" data-discover="true">← Back</a><h1 class="mt-6 text-4xl font-semibold text-header">How to easily add dark mode to a React app</h1><p class="mt-3 text-secondary"> •<!-- --> <!-- -->2<!-- --> min read</p><article class="prose prose-light mt-10 max-w-[75ch] dark:prose-dark prose-code:before:hidden prose-code:after:hidden"><h3>Introduction</h3>
<p>One of the most common UX requirements for an app is to add a way to toggle a dark mode for the user. Using React and just plain ol’ CSS this is easily achieved! This article assumes you have a basic understanding of React hooks.</p>
<p>Typically you would want to set the dark mode colors throughout the entire app to affect various different colors.</p>
<p>In standard CSS there exist <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties">CSS variables</a>. We can use these to change the colors of our entire app!</p>
<h3>Code-along</h3>
<p>First and foremost lets set the structure of our app:</p>
<pre><code class="language-js">&lt;div className=&quot;App&quot;&gt;
	&lt;header className=&quot;header&quot;&gt;
		&lt;h1&gt;This is my navbar&lt;/h1&gt;
	&lt;/header&gt;
	&lt;main className=&quot;main&quot;&gt;Main content&lt;/main&gt;
&lt;/div&gt;
</code></pre>
<p>Nothing out of the ordinary just a header and our content. Now, let&#x27;s add a way to toggle the dark mode setting. I’ll quickly add <a href="https://material-ui.com/">Material-UI</a> to prettify our app:</p>
<pre><code class="language-js">&lt;div className=&quot;App&quot;&gt;
	&lt;header className=&quot;header&quot;&gt;
		&lt;h1&gt;This is my navbar&lt;/h1&gt;
		&lt;Switch /&gt;
	&lt;/header&gt;
	&lt;main className=&quot;main&quot;&gt;Main content&lt;/main&gt;
&lt;/div&gt;
</code></pre>
<p>Perfect! now we need to handle the state of the dark mode</p>
<pre><code class="language-js">const [darkMode, setDarkMode] = React.useState(false);

const handleChange = () =&gt; {
	setDarkMode((prevState) =&gt; !prevState);
};

return (
	&lt;div className=&quot;App&quot;&gt;
		&lt;header className=&quot;header&quot;&gt;
			&lt;h1&gt;This is my navbar&lt;/h1&gt;
			&lt;Switch checked={darkMode} onChange={handleChange} /&gt;
		&lt;/header&gt;
		&lt;main className=&quot;main&quot;&gt;Main content&lt;/main&gt;
	&lt;/div&gt;
);
</code></pre>
<p>To explain, our dark mode is a basic toggle state that we switch with the <strong>Switch</strong>!</p>
<p>Next, with the basic logic out of the way, we can tackle the styling of the dark mode. To our App, header, and main classes we’ll add our CSS variables and a:</p>
<pre><code class="language-css">transition: all 500ms;
</code></pre>
<p>This to make the transition fluid for the user.</p>
<pre><code class="language-js">.App {
  // ..other styles
  transition: all 500ms;
  background-color: var(--bg);
}

.header {
  // ...other styles
  transition: all 500ms;
  background-color: var(--navbar);
  color: var(--color);
}

.main {
  // ...other styles
  background-color: var(--secondarybg);
  color: var(--color);
}
</code></pre>
<p>Great! Now all that’s left is to <em>hook</em> up our CSS variables with the dark mode state. React offers us a useEffect hook to do secondary effects.</p>
<pre><code class="language-js">React.useEffect(() =&gt; {
	if (darkMode) {
		document.documentElement.style.setProperty(&#x27;--color&#x27;, &#x27;#FFFFFF&#x27;);
		document.documentElement.style.setProperty(&#x27;--navbar&#x27;, &#x27;#333333&#x27;);
		document.documentElement.style.setProperty(&#x27;--bg&#x27;, &#x27;#212121&#x27;);
		document.documentElement.style.setProperty(&#x27;--secondarybg&#x27;, &#x27;#212121&#x27;);
	} else {
		document.documentElement.style.setProperty(&#x27;--color&#x27;, &#x27;#616161&#x27;);
		document.documentElement.style.setProperty(&#x27;--navbar&#x27;, &#x27;#FFFFFF&#x27;);
		document.documentElement.style.setProperty(&#x27;--bg&#x27;, &#x27;#FFFFFF&#x27;);
		document.documentElement.style.setProperty(&#x27;--secondarybg&#x27;, &#x27;#F5F5F5&#x27;);
	}
}, [darkMode]);
</code></pre>
<h3>Dark Mode Final Implementation</h3>
<p>And that’s everything! Let’s check it out in a working example:</p>
<p><a href="https://codesandbox.io/embed/react-dark-mode-sczpn?fontsize=14&amp;hidenavigation=1&amp;theme=dark">https://codesandbox.io/embed/react-dark-mode-sczpn?fontsize=14&amp;hidenavigation=1&amp;theme=dark</a></p><p>If you see any typos or errors you can<!-- --> <a href="https://github.com/diballesteros/blog-posts/blob/main/how-to-easily-add-dark-mode-to-a-react-app.md" target="_blank" rel="noopener noreferrer">edit the article directly on GitHub</a>.</p></article><section class="mt-16"><h2 class="font-medium text-header text-3xl">You may also like:</h2><div class="h-6 md:h-10"></div><ul class="grid grid-cols-1 gap-8 md:grid-cols-2"><li><div class="group relative flex h-full transition-all duration-300 focus-within:scale-[1.03] hover:scale-[1.03] motion-reduce:focus-within:scale-100 motion-reduce:hover:scale-100 focus-within:dark:bg-slate-900 dark:hover:bg-slate-900"><div class="absolute -inset-0.5 z-[1] h-full rounded-lg bg-sky-500 bg-opacity-0 blur transition-all duration-300 group-focus-within:bg-opacity-80 group-hover:bg-opacity-80"></div><a class="relative z-[2] flex h-full w-full cursor-pointer flex-col rounded-lg" tabindex="0" title="What is imposter syndrome? And how I deal with it" href="/what-is-imposter-syndrome-and-how-i-deal-with-it" data-discover="true"><div class="absolute right-2 top-2 z-[1] flex flex-col gap-4 opacity-0 transition-opacity group-active:opacity-100 group-hover:lg:opacity-100"><button class="flex w-28 items-center justify-between rounded-md bg-white p-2 font-semibold text-black shadow-lg" tabindex="-1" type="button">Copy link <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z" opacity="0"></path><path d="M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z" opacity="0"></path></svg></button><button class="flex w-28 items-center justify-between rounded-md bg-white p-2 font-semibold text-black shadow-lg" tabindex="-1" type="button">New tab <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-4 w-4"><path fill-rule="evenodd" d="M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-4a.75.75 0 0 1 1.5 0v4A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6.194 12.753a.75.75 0 0 0 1.06.053L16.5 4.44v2.81a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.553l-9.056 8.194a.75.75 0 0 0-.053 1.06Z" clip-rule="evenodd"></path></svg></button></div><img alt="What is imposter syndrome? And how I deal with it" class="hidden aspect-[21/9] h-[17.4rem] rounded-tl-lg rounded-tr-lg lg:block" src="https://cdn.hashnode.com/res/hashnode/image/upload/v1651102112425/KKsbnfbCK.png"/><div class="flex flex-1 flex-col rounded-lg bg-bgSecondary p-4 text-primary lg:rounded-tl-none lg:rounded-tr-none"><h3 class="text-lg font-medium mb-2 group-hover:text-sky-800 group-hover:transition-all dark:group-hover:text-sky-400">What is imposter syndrome? And how I deal with it</h3><p class="mb-4">Imposter syndrome is a common feeling to have as a software developer even if you&#x27;ve been doing it for years. I go over my personal experiences with it.</p><div class="mt-auto flex gap-2 text-secondary"><p class="flex gap-1 text-header"><em class="text-secondary">in</em> <!-- -->devlog</p><span class="ml-auto inline-flex items-center gap-1">4<!-- --> min read <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-3 w-3"><path fill-rule="evenodd" d="M3 10a.75.75 0 0 1 .75-.75h10.638L10.23 5.29a.75.75 0 1 1 1.04-1.08l5.5 5.25a.75.75 0 0 1 0 1.08l-5.5 5.25a.75.75 0 1 1-1.04-1.08l4.158-3.96H3.75A.75.75 0 0 1 3 10Z" clip-rule="evenodd"></path></svg></span></div></div></a></div></li><li><div class="group relative flex h-full transition-all duration-300 focus-within:scale-[1.03] hover:scale-[1.03] motion-reduce:focus-within:scale-100 motion-reduce:hover:scale-100 focus-within:dark:bg-slate-900 dark:hover:bg-slate-900"><div class="absolute -inset-0.5 z-[1] h-full rounded-lg bg-sky-500 bg-opacity-0 blur transition-all duration-300 group-focus-within:bg-opacity-80 group-hover:bg-opacity-80"></div><a class="relative z-[2] flex h-full w-full cursor-pointer flex-col rounded-lg" tabindex="0" title="Testing a Reaction Application updating to Cypress Version 10" href="/testing-a-reaction-application-updating-to-cypress-version-10" data-discover="true"><div class="absolute right-2 top-2 z-[1] flex flex-col gap-4 opacity-0 transition-opacity group-active:opacity-100 group-hover:lg:opacity-100"><button class="flex w-28 items-center justify-between rounded-md bg-white p-2 font-semibold text-black shadow-lg" tabindex="-1" type="button">Copy link <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z" opacity="0"></path><path d="M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z" opacity="0"></path></svg></button><button class="flex w-28 items-center justify-between rounded-md bg-white p-2 font-semibold text-black shadow-lg" tabindex="-1" type="button">New tab <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-4 w-4"><path fill-rule="evenodd" d="M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-4a.75.75 0 0 1 1.5 0v4A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6.194 12.753a.75.75 0 0 0 1.06.053L16.5 4.44v2.81a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.553l-9.056 8.194a.75.75 0 0 0-.053 1.06Z" clip-rule="evenodd"></path></svg></button></div><img alt="Testing a Reaction Application updating to Cypress Version 10" class="hidden aspect-[21/9] h-[17.4rem] rounded-tl-lg rounded-tr-lg lg:block" src="https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png"/><div class="flex flex-1 flex-col rounded-lg bg-bgSecondary p-4 text-primary lg:rounded-tl-none lg:rounded-tr-none"><h3 class="text-lg font-medium mb-2 group-hover:text-sky-800 group-hover:transition-all dark:group-hover:text-sky-400">Testing a Reaction Application updating to Cypress Version 10</h3><p class="mb-4">Testing a modern React application. In this part of the series, we go over how to update Cypress to version 10.</p><div class="mt-auto flex gap-2 text-secondary"><p class="flex gap-1 text-header"><em class="text-secondary">in</em> <!-- -->testing, react</p><span class="ml-auto inline-flex items-center gap-1">3<!-- --> min read <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-3 w-3"><path fill-rule="evenodd" d="M3 10a.75.75 0 0 1 .75-.75h10.638L10.23 5.29a.75.75 0 1 1 1.04-1.08l5.5 5.25a.75.75 0 0 1 0 1.08l-5.5 5.25a.75.75 0 1 1-1.04-1.08l4.158-3.96H3.75A.75.75 0 0 1 3 10Z" clip-rule="evenodd"></path></svg></span></div></div></a></div></li><li><div class="group relative flex h-full transition-all duration-300 focus-within:scale-[1.03] hover:scale-[1.03] motion-reduce:focus-within:scale-100 motion-reduce:hover:scale-100 focus-within:dark:bg-slate-900 dark:hover:bg-slate-900"><div class="absolute -inset-0.5 z-[1] h-full rounded-lg bg-sky-500 bg-opacity-0 blur transition-all duration-300 group-focus-within:bg-opacity-80 group-hover:bg-opacity-80"></div><a class="relative z-[2] flex h-full w-full cursor-pointer flex-col rounded-lg" tabindex="0" title="Testing a React Application Working with Codecov" href="/testing-a-react-application-working-with-codecov" data-discover="true"><div class="absolute right-2 top-2 z-[1] flex flex-col gap-4 opacity-0 transition-opacity group-active:opacity-100 group-hover:lg:opacity-100"><button class="flex w-28 items-center justify-between rounded-md bg-white p-2 font-semibold text-black shadow-lg" tabindex="-1" type="button">Copy link <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z" opacity="0"></path><path d="M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z" opacity="0"></path></svg></button><button class="flex w-28 items-center justify-between rounded-md bg-white p-2 font-semibold text-black shadow-lg" tabindex="-1" type="button">New tab <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-4 w-4"><path fill-rule="evenodd" d="M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-4a.75.75 0 0 1 1.5 0v4A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6.194 12.753a.75.75 0 0 0 1.06.053L16.5 4.44v2.81a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.553l-9.056 8.194a.75.75 0 0 0-.053 1.06Z" clip-rule="evenodd"></path></svg></button></div><img alt="Testing a React Application Working with Codecov" class="hidden aspect-[21/9] h-[17.4rem] rounded-tl-lg rounded-tr-lg lg:block" src="https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png"/><div class="flex flex-1 flex-col rounded-lg bg-bgSecondary p-4 text-primary lg:rounded-tl-none lg:rounded-tr-none"><h3 class="text-lg font-medium mb-2 group-hover:text-sky-800 group-hover:transition-all dark:group-hover:text-sky-400">Testing a React Application Working with Codecov</h3><p class="mb-4">How to test a React web application and upload the test code coverage results to Codecov.</p><div class="mt-auto flex gap-2 text-secondary"><p class="flex gap-1 text-header"><em class="text-secondary">in</em> <!-- -->testing, react</p><span class="ml-auto inline-flex items-center gap-1">5<!-- --> min read <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-3 w-3"><path fill-rule="evenodd" d="M3 10a.75.75 0 0 1 .75-.75h10.638L10.23 5.29a.75.75 0 1 1 1.04-1.08l5.5 5.25a.75.75 0 0 1 0 1.08l-5.5 5.25a.75.75 0 1 1-1.04-1.08l4.158-3.96H3.75A.75.75 0 0 1 3 10Z" clip-rule="evenodd"></path></svg></span></div></div></a></div></li><li><div class="group relative flex h-full transition-all duration-300 focus-within:scale-[1.03] hover:scale-[1.03] motion-reduce:focus-within:scale-100 motion-reduce:hover:scale-100 focus-within:dark:bg-slate-900 dark:hover:bg-slate-900"><div class="absolute -inset-0.5 z-[1] h-full rounded-lg bg-sky-500 bg-opacity-0 blur transition-all duration-300 group-focus-within:bg-opacity-80 group-hover:bg-opacity-80"></div><a class="relative z-[2] flex h-full w-full cursor-pointer flex-col rounded-lg" tabindex="0" title="Testing a React Application What is Vitest?" href="/testing-a-react-application-what-is-vitest" data-discover="true"><div class="absolute right-2 top-2 z-[1] flex flex-col gap-4 opacity-0 transition-opacity group-active:opacity-100 group-hover:lg:opacity-100"><button class="flex w-28 items-center justify-between rounded-md bg-white p-2 font-semibold text-black shadow-lg" tabindex="-1" type="button">Copy link <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z" opacity="0"></path><path d="M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z" opacity="0"></path></svg></button><button class="flex w-28 items-center justify-between rounded-md bg-white p-2 font-semibold text-black shadow-lg" tabindex="-1" type="button">New tab <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-4 w-4"><path fill-rule="evenodd" d="M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-4a.75.75 0 0 1 1.5 0v4A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6.194 12.753a.75.75 0 0 0 1.06.053L16.5 4.44v2.81a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.553l-9.056 8.194a.75.75 0 0 0-.053 1.06Z" clip-rule="evenodd"></path></svg></button></div><img alt="Testing a React Application What is Vitest?" class="hidden aspect-[21/9] h-[17.4rem] rounded-tl-lg rounded-tr-lg lg:block" src="https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png"/><div class="flex flex-1 flex-col rounded-lg bg-bgSecondary p-4 text-primary lg:rounded-tl-none lg:rounded-tr-none"><h3 class="text-lg font-medium mb-2 group-hover:text-sky-800 group-hover:transition-all dark:group-hover:text-sky-400">Testing a React Application What is Vitest?</h3><p class="mb-4">The third part of a series of articles on how to test a React Application. I go over how Vitest and its syntax work in the simplest terms.</p><div class="mt-auto flex gap-2 text-secondary"><p class="flex gap-1 text-header"><em class="text-secondary">in</em> <!-- -->testing, react</p><span class="ml-auto inline-flex items-center gap-1">4<!-- --> min read <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-3 w-3"><path fill-rule="evenodd" d="M3 10a.75.75 0 0 1 .75-.75h10.638L10.23 5.29a.75.75 0 1 1 1.04-1.08l5.5 5.25a.75.75 0 0 1 0 1.08l-5.5 5.25a.75.75 0 1 1-1.04-1.08l4.158-3.96H3.75A.75.75 0 0 1 3 10Z" clip-rule="evenodd"></path></svg></span></div></div></a></div></li></ul></section><div class="h-6 md:h-64"></div></main><footer class="relative border-t border-solid border-secondary bg-bgPrimary"><div class="mx-auto flex max-w-6xl flex-col items-center justify-between gap-8 px-8 py-6 sm:flex-row sm:items-stretch"><div class="flex flex-col justify-between"><div class="text-4xl text-primary">Relatable Code</div><span class="hidden text-sm text-secondary sm:block">© 2020-<!-- -->2025<!-- --> Relatable Code. All Rights Reserved.</span></div><section class="flex w-full justify-center gap-40 sm:w-auto sm:gap-24"><nav class="flex flex-col gap-2 text-secondary"><span class="mb-1 text-xl text-primary">Sitemap</span><a href="/blog" data-discover="true">Blog</a></nav><nav class="flex flex-col gap-2 text-secondary"><span class="mb-1 text-xl text-primary">Links</span><a href="https://github.com/diballesteros" rel="noreferrer" target="_blank">GitHub</a></nav></section><span class="block text-sm text-secondary sm:hidden">© 2020-<!-- -->2025<!-- --> Relatable Code. All Rights Reserved.</span></div></footer><script>((storageKey2, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({ key }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(storageKey2);
    }
  })("react-router-scroll-positions", null)</script><script>window.__reactRouterContext = {"basename":"/","future":{"unstable_optimizeDeps":false,"unstable_subResourceIntegrity":false,"v8_middleware":false,"v8_splitRouteModules":false,"v8_viteEnvironmentApi":false},"routeDiscovery":{"mode":"initial"},"ssr":false,"isSpaMode":false};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());</script><script type="module" async="">import "/assets/manifest-369ebdb0.js";
import * as route0 from "/assets/root-Dp058UYp.js";
import * as route1 from "/assets/_slug-jbQufblr.js";
  
  window.__reactRouterRouteModules = {"root":route0,"routes/$slug":route1};

import("/assets/entry.client-CCB5ikfw.js");</script><!--$?--><template id="B:0"></template><!--/$--><script id="_R_">requestAnimationFrame(function(){$RT=performance.now()});</script><div hidden id="S:0"><script>window.__reactRouterContext.streamController.enqueue("[{\"_1\":2,\"_55\":-5,\"_56\":-5},\"loaderData\",{\"_3\":4},\"routes/$slug\",{\"_5\":6,\"_26\":27},\"post\",{\"_7\":8,\"_9\":10,\"_11\":12,\"_13\":14,\"_15\":16,\"_18\":19,\"_20\":21,\"_22\":23,\"_24\":25},\"slug\",\"how-to-easily-add-dark-mode-to-a-react-app\",\"title\",\"How to easily add dark mode to a React app\",\"date\",\"\",\"description\",\"How to easily add an animated dark mode to a React app with no third party libraries using just CSS varibles and react hooks.\",\"categories\",[17],\"react\",\"coverImage\",\"https://cdn.hashnode.com/res/hashnode/image/upload/v1651104731420/ckcT2EW3G.png\",\"published\",true,\"readingTime\",2,\"content\",\"\\r\\n### Introduction\\r\\n\\r\\nOne of the most common UX requirements for an app is to add a way to toggle a dark mode for the user. Using React and just plain ol’ CSS this is easily achieved! This article assumes you have a basic understanding of React hooks.\\r\\n\\r\\nTypically you would want to set the dark mode colors throughout the entire app to affect various different colors.\\r\\n\\r\\nIn standard CSS there exist [CSS variables](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties). We can use these to change the colors of our entire app!\\r\\n\\r\\n### Code-along\\r\\n\\r\\nFirst and foremost lets set the structure of our app:\\r\\n\\r\\n```js\\r\\n\u003cdiv className=\\\"App\\\"\u003e\\r\\n\\t\u003cheader className=\\\"header\\\"\u003e\\r\\n\\t\\t\u003ch1\u003eThis is my navbar\u003c/h1\u003e\\r\\n\\t\u003c/header\u003e\\r\\n\\t\u003cmain className=\\\"main\\\"\u003eMain content\u003c/main\u003e\\r\\n\u003c/div\u003e\\r\\n```\\r\\n\\r\\nNothing out of the ordinary just a header and our content. Now, let's add a way to toggle the dark mode setting. I’ll quickly add [Material-UI](https://material-ui.com/) to prettify our app:\\r\\n\\r\\n```js\\r\\n\u003cdiv className=\\\"App\\\"\u003e\\r\\n\\t\u003cheader className=\\\"header\\\"\u003e\\r\\n\\t\\t\u003ch1\u003eThis is my navbar\u003c/h1\u003e\\r\\n\\t\\t\u003cSwitch /\u003e\\r\\n\\t\u003c/header\u003e\\r\\n\\t\u003cmain className=\\\"main\\\"\u003eMain content\u003c/main\u003e\\r\\n\u003c/div\u003e\\r\\n```\\r\\n\\r\\nPerfect! now we need to handle the state of the dark mode\\r\\n\\r\\n```js\\r\\nconst [darkMode, setDarkMode] = React.useState(false);\\r\\n\\r\\nconst handleChange = () =\u003e {\\r\\n\\tsetDarkMode((prevState) =\u003e !prevState);\\r\\n};\\r\\n\\r\\nreturn (\\r\\n\\t\u003cdiv className=\\\"App\\\"\u003e\\r\\n\\t\\t\u003cheader className=\\\"header\\\"\u003e\\r\\n\\t\\t\\t\u003ch1\u003eThis is my navbar\u003c/h1\u003e\\r\\n\\t\\t\\t\u003cSwitch checked={darkMode} onChange={handleChange} /\u003e\\r\\n\\t\\t\u003c/header\u003e\\r\\n\\t\\t\u003cmain className=\\\"main\\\"\u003eMain content\u003c/main\u003e\\r\\n\\t\u003c/div\u003e\\r\\n);\\r\\n```\\r\\n\\r\\nTo explain, our dark mode is a basic toggle state that we switch with the **Switch**!\\r\\n\\r\\nNext, with the basic logic out of the way, we can tackle the styling of the dark mode. To our App, header, and main classes we’ll add our CSS variables and a:\\r\\n\\r\\n```css\\r\\ntransition: all 500ms;\\r\\n```\\r\\n\\r\\nThis to make the transition fluid for the user.\\r\\n\\r\\n```js\\r\\n.App {\\r\\n  // ..other styles\\r\\n  transition: all 500ms;\\r\\n  background-color: var(--bg);\\r\\n}\\r\\n\\r\\n.header {\\r\\n  // ...other styles\\r\\n  transition: all 500ms;\\r\\n  background-color: var(--navbar);\\r\\n  color: var(--color);\\r\\n}\\r\\n\\r\\n.main {\\r\\n  // ...other styles\\r\\n  background-color: var(--secondarybg);\\r\\n  color: var(--color);\\r\\n}\\r\\n```\\r\\n\\r\\nGreat! Now all that’s left is to _hook_ up our CSS variables with the dark mode state. React offers us a useEffect hook to do secondary effects.\\r\\n\\r\\n```js\\r\\nReact.useEffect(() =\u003e {\\r\\n\\tif (darkMode) {\\r\\n\\t\\tdocument.documentElement.style.setProperty('--color', '#FFFFFF');\\r\\n\\t\\tdocument.documentElement.style.setProperty('--navbar', '#333333');\\r\\n\\t\\tdocument.documentElement.style.setProperty('--bg', '#212121');\\r\\n\\t\\tdocument.documentElement.style.setProperty('--secondarybg', '#212121');\\r\\n\\t} else {\\r\\n\\t\\tdocument.documentElement.style.setProperty('--color', '#616161');\\r\\n\\t\\tdocument.documentElement.style.setProperty('--navbar', '#FFFFFF');\\r\\n\\t\\tdocument.documentElement.style.setProperty('--bg', '#FFFFFF');\\r\\n\\t\\tdocument.documentElement.style.setProperty('--secondarybg', '#F5F5F5');\\r\\n\\t}\\r\\n}, [darkMode]);\\r\\n```\\r\\n\\r\\n### Dark Mode Final Implementation\\r\\n\\r\\nAnd that’s everything! Let’s check it out in a working example:\\r\\n\\r\\nhttps://codesandbox.io/embed/react-dark-mode-sczpn?fontsize=14\u0026hidenavigation=1\u0026theme=dark\\r\\n\",\"recommendations\",[28,36,44,50],{\"_7\":29,\"_9\":30,\"_11\":12,\"_13\":31,\"_15\":32,\"_18\":34,\"_20\":21,\"_22\":35},\"what-is-imposter-syndrome-and-how-i-deal-with-it\",\"What is imposter syndrome? And how I deal with it\",\"Imposter syndrome is a common feeling to have as a software developer even if you've been doing it for years. I go over my personal experiences with it.\",[33],\"devlog\",\"https://cdn.hashnode.com/res/hashnode/image/upload/v1651102112425/KKsbnfbCK.png\",4,{\"_7\":37,\"_9\":38,\"_11\":12,\"_13\":39,\"_15\":40,\"_18\":42,\"_20\":21,\"_22\":43},\"testing-a-reaction-application-updating-to-cypress-version-10\",\"Testing a Reaction Application updating to Cypress Version 10\",\"Testing a modern React application. In this part of the series, we go over how to update Cypress to version 10.\",[41,17],\"testing\",\"https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png\",3,{\"_7\":45,\"_9\":46,\"_11\":12,\"_13\":47,\"_15\":48,\"_18\":42,\"_20\":21,\"_22\":49},\"testing-a-react-application-working-with-codecov\",\"Testing a React Application Working with Codecov\",\"How to test a React web application and upload the test code coverage results to Codecov.\",[41,17],5,{\"_7\":51,\"_9\":52,\"_11\":12,\"_13\":53,\"_15\":54,\"_18\":42,\"_20\":21,\"_22\":35},\"testing-a-react-application-what-is-vitest\",\"Testing a React Application What is Vitest?\",\"The third part of a series of articles on how to test a React Application. I go over how Vitest and its syntax work in the simplest terms.\",[41,17],\"actionData\",\"errors\"]\n");</script><!--$?--><template id="B:1"></template><!--/$--></div><script>$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};$RC("B:0","S:0")</script><div hidden id="S:1"><script>window.__reactRouterContext.streamController.close();</script></div><script>$RC("B:1","S:1")</script></body></html>