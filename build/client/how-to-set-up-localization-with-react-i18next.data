[{"_1":2},"routes/$slug",{"_3":4},"data",{"_5":6,"_26":27},"post",{"_7":8,"_9":10,"_11":12,"_13":14,"_15":16,"_18":19,"_20":21,"_22":23,"_24":25},"slug","how-to-set-up-localization-with-react-i18next","title","How to set up localization with react-i18next","date","","description","How to quickly set up localizations and translations with react-i18next and i18next framework in a React web application using hooks.","categories",[17],"react","coverImage","https://cdn.hashnode.com/res/hashnode/image/upload/v1642957781512/XSglqhZVW.jpeg","published",true,"readingTime",4,"content","\r\n### Introduction\r\n\r\nOne of the features requested for a personal app of mine was to add multiple languages! Namely German and Spanish. So I decided to go ahead and learn [react-i18next](https://react.i18next.com/).\r\n\r\nHere is a short description from the team at react-i18next on what it’s for:\r\n\r\n> _react-18next is a powerful internationalization framework for React / React Native which is based on i18next_\r\n\r\nWith that short introduction out of the way let’s go ahead and get into the setup!\r\n\r\nDisclaimer: This is for a react web app!\r\n\r\n### Setting it up\r\n\r\nFirst, let’s install the necessary packages:\r\n\r\n```\r\nnpm install react-i18next i18next\r\n```\r\n\r\nWith the packages created let’s create (I am using Typescript btw) the configuration file at the root, let’s name it i18n.ts.\r\n\r\nWithin the file we’ll go ahead and import the necessary modules from the packages we just installed:\r\n\r\n![Imported modules](https://cdn.hashnode.com/res/hashnode/image/upload/v1642957783009/ZTRPTYAaGt.png)\r\n\r\nA few lines below that we’ll begin the configuration.\r\n\r\n### Configuration\r\n\r\nThe i18next framework expects the **resources** for the different localizations. This is done with a _key:value_ pairing of the translation and the actual text. Ideally, this would be split up into different locales, so for example in my app for German, Spanish, and English the resource object would look like this:\r\n\r\n![Initial resources object](https://cdn.hashnode.com/res/hashnode/image/upload/v1642957784359/eFghK3c_d.png)\r\n\r\nTo populate the resources I personally prefer to create a folder with the name **locale** and start putting in my translations in the folder:\r\n\r\n![Folder setup](https://cdn.hashnode.com/res/hashnode/image/upload/v1642957785684/daO2ZOi74.png)\r\n\r\nThen I import them into the configuration file and set the values inside the resource object:\r\n\r\n![Populated resources object](https://cdn.hashnode.com/res/hashnode/image/upload/v1642957787019/VVC0Okwqe.png)\r\n\r\nA small example of a resource file (in JSON):\r\n\r\n```json\r\n{\r\n\t\"about\": \"Über\"\r\n}\r\n```\r\n\r\nAfterward, we’ll build out the languageDetector, this part of the configuration will detect what language to display on the launch of the app:\r\n\r\n![languageDetector](https://cdn.hashnode.com/res/hashnode/image/upload/v1642957788438/PqhaetuFK.png)\r\n\r\nLet’s break this down: The languageDetector object expects several properties. First, the **type** which indicates that it is a languageDetector. Afterward, we'll label it as an async process. The real meat and bones of this are the **detect** property, in my case, I have a Zustand store to obtain the language, important to use the callback function of the detect property to set it correctly.\r\n\r\nThis would take in the language code which corresponds directly to the resources we configured earlier. In my case, I don’t need the init functions or the cacheUserLanguage properties so I just leave them set to an empty function for Typescript purposes.\r\n\r\n**IMPORTANT** : If you don’t have the language for the user stored in some other location and just want the one directly from the browser there is a package just for this!\r\n\r\n```bash\r\nnpm install i18next-browser-languagedetector\r\n```\r\n\r\nThis will detect the language in the browser. Once installed you can import it from the package:\r\n\r\n```js\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n```\r\n\r\nThe final step is to create the i18n instance and export it!\r\n\r\n![Final configuration setup](https://cdn.hashnode.com/res/hashnode/image/upload/v1642957789822/DsSkOzhs7.png)\r\n\r\nEssentially, we just plug in all the properties we have previously configured. In the init function we set up a fallbackLng in case our languageDetector fails.\r\n\r\n### Final steps\r\n\r\nIn our root file where we initial render our React tree let’s go ahead and import our configuration file:\r\n\r\n```js\r\nimport './i18n';\r\n```\r\n\r\nNow, you can go ahead and start calling the localization keys using the namespace and key with a hook provided by react-i18next:\r\n\r\n![Using the localization hook](https://cdn.hashnode.com/res/hashnode/image/upload/v1642957791257/VxdxakGsG.png)\r\n\r\n**common** in this case is the sub-property of the resource object we set earlier to split up our localizations! Neat! and then I just call the key from the JSON file and it’ll display the correct translation.\r\n\r\n**SIDENOTE** : You can go ahead and set the language dynamically with another property inside the returned value of the **useTranslation** hook:\r\n\r\n![Changing the language](https://cdn.hashnode.com/res/hashnode/image/upload/v1642957792740/tSiUC0H9F.png)\r\n","recommendations",[28,35,43,49],{"_7":29,"_9":30,"_11":12,"_13":31,"_15":32,"_18":34,"_20":21,"_22":23},"what-is-imposter-syndrome-and-how-i-deal-with-it","What is imposter syndrome? And how I deal with it","Imposter syndrome is a common feeling to have as a software developer even if you've been doing it for years. I go over my personal experiences with it.",[33],"devlog","https://cdn.hashnode.com/res/hashnode/image/upload/v1651102112425/KKsbnfbCK.png",{"_7":36,"_9":37,"_11":12,"_13":38,"_15":39,"_18":41,"_20":21,"_22":42},"testing-a-reaction-application-updating-to-cypress-version-10","Testing a Reaction Application updating to Cypress Version 10","Testing a modern React application. In this part of the series, we go over how to update Cypress to version 10.",[40,17],"testing","https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png",3,{"_7":44,"_9":45,"_11":12,"_13":46,"_15":47,"_18":41,"_20":21,"_22":48},"testing-a-react-application-working-with-codecov","Testing a React Application Working with Codecov","How to test a React web application and upload the test code coverage results to Codecov.",[40,17],5,{"_7":50,"_9":51,"_11":12,"_13":52,"_15":53,"_18":41,"_20":21,"_22":23},"testing-a-react-application-what-is-vitest","Testing a React Application What is Vitest?","The third part of a series of articles on how to test a React Application. I go over how Vitest and its syntax work in the simplest terms.",[40,17]]
