[{"_1":2},"routes/$slug",{"_3":4},"data",{"_5":6,"_27":28},"post",{"_7":8,"_9":10,"_11":12,"_13":14,"_15":16,"_19":20,"_21":22,"_23":24,"_25":26},"slug","testing-a-react-application-what-is-vitest","title","Testing a React Application What is Vitest?","date","","description","The third part of a series of articles on how to test a React Application. I go over how Vitest and its syntax work in the simplest terms.","categories",[17,18],"testing","react","coverImage","https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png","published",true,"readingTime",4,"content","\r\n### Introduction\r\n\r\nVitest is a **unit-test** framework that is â€œblazingly fastâ€ and, **wow** , it is. Today Iâ€™ll be going over how to set up vitest and a brief explanation of how it works. Just for clarification, this is the third article in a series where I go over modern-day testing strategies for React applications.\r\n\r\n[First part here](https://relatablecode.com/testing-a-react-application-the-modern-approach/)\r\n\r\n[Second part here](https://relatablecode.com/testing-a-react-application-the-setup/)\r\n\r\nWhat is a unit test?\r\n\r\n> _A unit test is a testing method for an isolated and individual piece of code, a_ **_unit_** _. In the context of React, this more than likely refers to testing our components in isolation and any associated functions._\r\n\r\nWith this in mind, the end goal with vitest is to render our React components or functions in isolation from the rest of the application and test core functionality. Testing just a unit of our code if you will.\r\n\r\n![why](https://cdn.hashnode.com/res/hashnode/image/upload/v1651084793796/zHNCvkjvF.gif)\r\n\r\nBut why is this so important? Well, tests give us confidence that whenever we make a change in our we havenâ€™t broken anything. Sure, you can have some vague knowledge of everything the code touched and how it may affect the code in production.\r\n\r\nBut as any developer will tell you. This is not enough. Things happen, there are edge cases. Moreso if youâ€™re on a team where the developers on the team may be unfamiliar with the code.\r\n\r\nThey also serve as a form of documentation. Reading through a test will give a developer idea of what the intended purpose of blocks of code is. With that out of the way letâ€™s get into using Vitest\r\n\r\n### Configuration\r\n\r\nLike many other libraries, this will have a configuration file at the root of our project. Note if your project is already running on **Vite** it will look for a vite.config.ts file.\r\n\r\nAlthough our test application (if this is the first article youâ€™re reading check out the [second part](https://relatablecode.com/testing-a-react-application-the-setup/) as it has the barebones site we built for the sake of testing out vitest ðŸ˜Ž)\r\n\r\n```js\r\nimport { defineConfig } from 'vitest/config';\r\n\r\nexport default defineConfig({\r\n\ttest: {\r\n\t\t// ...\r\n\t},\r\n});\r\n```\r\n\r\nHere we can set up the file globs we want to monitor, any dependencies we require, the environmentâ€Šâ€”â€Šfor example, if we want to use nodejs, jsdom, or happy-dom. Why is this part so important? Well, it mocks where our unit tests are run.\r\n\r\nFor web applications, it might be a better choice to use jsdom or happy-dom as it more so resembles a browser. Letâ€™s go with that.\r\n\r\n![browsers](https://cdn.hashnode.com/res/hashnode/image/upload/v1651084795792/Ip3ltV8N7.jpeg)\r\n\r\nA full list of possible configurations can be found [here](https://vitest.dev/config/).\r\n\r\nFor now, our code will only have the following: a vitest.config.js file at the root of our project.\r\n\r\n```js\r\nimport { defineConfig } from 'vitest/config';\r\n\r\nexport default defineConfig({\r\n\ttest: {\r\n\t\tenvironment: 'jsdom',\r\n\t},\r\n});\r\n```\r\n\r\n### Commands\r\n\r\nThe following are some common commands used in vitest\r\n\r\n#### test and describe\r\n\r\nWhen you first open up a test file youâ€™ll see one of two keywords: **test** and **describe**.\r\n\r\ntest is a function that creates the test. The vitest test runner will look for this syntax to see which tests to run.\r\n\r\n![test syntax](https://cdn.hashnode.com/res/hashnode/image/upload/v1651084799516/8TerPFQGI.png)\r\n\r\ntest is our keyword. The **green text** is the test description and is how we identify our test in the terminal when looking at our test execution. The following function contains our actual test content. More on that later.\r\n\r\ndescribe is for our organization. We can declare a suite of tests inside of a file. Normally the file is its own suite.\r\n\r\n![describe syntax](https://cdn.hashnode.com/res/hashnode/image/upload/v1651084800943/nuuNCxsIk.png)\r\n\r\nIts structure is very similar to test\r\n\r\n![describe syntax](https://cdn.hashnode.com/res/hashnode/image/upload/v1651084802342/gQAEt8Yym.png)\r\n\r\nWe can put our test inside of the describe function.\r\n\r\n#### expect\r\n\r\nexpect is the most crucial part of our test. It's what we expect the outcome of the test to be. For example, if we are doing some simple math:\r\n\r\n```js\r\nconst two = 1 + 1;\r\n\r\nexpect(two).to.equal(2);\r\nexpect(two).toBe(2);\r\n```\r\n\r\nOur tests will return success or failure based on our expect functions.\r\n\r\nVery easy to understand. But we are not limited to just equals there are a ton of expect functions. Find the full list [here](https://vitest.dev/api/#expect).\r\n\r\n#### after and before\r\n\r\nIf there are some common actions we have to run before or after our tests then Vitest offers us the after and before keywords.\r\n\r\n```js\r\nbeforeEach(() => {});\r\n\r\nafterEach(() => {});\r\n```\r\n\r\n### Wrapping it up\r\n\r\nVitest has a ton of built-in functionality to create amazing unit tests. In the next article, Iâ€™ll go over how to create a test application using our barebones application. ðŸš€\r\n\r\nMore content at [Relatable Code](https://relatablecode.com)\r\n\r\n### Letâ€™s connect\r\n\r\nIf you liked this feel free to connect with me on [LinkedIn](https://www.linkedin.com/in/relatablecode) or [Twitter](https://twitter.com/relatablecoder)\r\n\r\nCheck out my free developer roadmap and weekly tech industry news in my [newsletter](https://relatablecode.substack.com/).\r\n","recommendations",[29,36,42,48],{"_7":30,"_9":31,"_11":12,"_13":32,"_15":33,"_19":35,"_21":22,"_23":24},"what-is-imposter-syndrome-and-how-i-deal-with-it","What is imposter syndrome? And how I deal with it","Imposter syndrome is a common feeling to have as a software developer even if you've been doing it for years. I go over my personal experiences with it.",[34],"devlog","https://cdn.hashnode.com/res/hashnode/image/upload/v1651102112425/KKsbnfbCK.png",{"_7":37,"_9":38,"_11":12,"_13":39,"_15":40,"_19":20,"_21":22,"_23":41},"testing-a-reaction-application-updating-to-cypress-version-10","Testing a Reaction Application updating to Cypress Version 10","Testing a modern React application. In this part of the series, we go over how to update Cypress to version 10.",[17,18],3,{"_7":43,"_9":44,"_11":12,"_13":45,"_15":46,"_19":20,"_21":22,"_23":47},"testing-a-react-application-working-with-codecov","Testing a React Application Working with Codecov","How to test a React web application and upload the test code coverage results to Codecov.",[17,18],5,{"_7":49,"_9":50,"_11":12,"_13":51,"_15":52,"_19":20,"_21":22,"_23":24},"testing-a-react-application-the-setup","Testing a React Application The Setup","In the second part of my series on how to perform modern testing for a React application, I go over the setup of the react application and the testing packages.",[17,18]]
