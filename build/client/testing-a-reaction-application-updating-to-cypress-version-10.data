[{"_1":2},"routes/$slug",{"_3":4},"data",{"_5":6,"_27":28},"post",{"_7":8,"_9":10,"_11":12,"_13":14,"_15":16,"_19":20,"_21":22,"_23":24,"_25":26},"slug","testing-a-reaction-application-updating-to-cypress-version-10","title","Testing a Reaction Application updating to Cypress Version 10","date","","description","Testing a modern React application. In this part of the series, we go over how to update Cypress to version 10.","categories",[17,18],"testing","react","coverImage","https://cdn.hashnode.com/res/hashnode/image/upload/v1651098470347/9coA_akWr.png","published",true,"readingTime",3,"content","\r\n### Introduction\r\n\r\nIn the last article of this series, we went over how to create a test with Cypress, an end-to-end testing framework. Check it out[here](https://relatablecode.com/testing-a-react-application-creating-a-cypress-test). Cypress is a featureful framework that has only improved with its new version, and its main view got a makeover to give it a more modern look.\r\n\r\n![new Cypress screen](https://cdn.hashnode.com/res/hashnode/image/upload/v1655046298412/aTNqXSjwn.png)\r\n\r\nLet's briefly go over the small barebones application we've made up to this point.\r\n\r\nWhen clicking on a button it fetches posts from a service and displays them on the page:\r\n\r\n![Cypress test](https://cdn.hashnode.com/res/hashnode/image/upload/v1655045723084/lfvg1sPnn.png)\r\n\r\nFor reference, you can find the repository [here](https://github.com/diballesteros/react-testing).\r\n\r\n### Updating Cypress\r\n\r\nFirst, let's go ahead and update our Cypress package. If this is your first time using Cypress, it'll also install it.\r\n\r\n```bash\r\nyarn add cypress --dev\r\n```\r\n\r\nor if you're using `npm` first uninstall it then re-install it. I've had issues with updating the package so I prefer reinstalling it fresh. If someone in the comments has a better way please let me know!\r\n\r\n```bash\r\nnpm uninstall cypress\r\nnpm install cypress --save-dev\r\n```\r\n\r\nThis should update Cypress to its newest version 10. As of this article, this is version 10.1.0. If you are having compatibility issues while reading this article I suggest checking out the official [Cypress changelog](https://docs.cypress.io/guides/references/changelog).\r\n\r\nEasy enough. Now let's head into the breaking changes.\r\n\r\n### Cypress Configuration file\r\n\r\nLet's try running Cypress.\r\n\r\n```js\r\nnpm run dev\r\nnpm run test-e2e\r\n```\r\n\r\nIf you still have cypress open you'll notice a similar error:\r\n\r\n![Cypress configuration file error](https://cdn.hashnode.com/res/hashnode/image/upload/v1655048359437/Cvc6b6IfB.png)\r\n\r\nCypress now uses a different configuration file. Let's delete our `cypress.json` and create a new `cypress.config.js`\r\n\r\nThis new file has a `defineConfig` function that will contain all of our old options. Which in this case was just the `baseUrl` option.\r\n\r\n```js\r\nconst { defineConfig } = require('cypress');\r\n\r\nmodule.exports = defineConfig({\r\n\te2e: {\r\n\t\tbaseUrl: 'http://localhost:3000',\r\n\t\tspecPattern: 'cypress/integration/**/*.spec.ts',\r\n\t},\r\n});\r\n```\r\n\r\nNow we'll get the new modern screen:\r\n\r\n![new Cypress screen](https://cdn.hashnode.com/res/hashnode/image/upload/v1655048663385/5sfY1Lw7C.png)\r\n\r\n### Resolving errors\r\n\r\nWe'll get met with our first error when we click on the end-to-end testing option:\r\n\r\n![Cypress error no supportFile](https://cdn.hashnode.com/res/hashnode/image/upload/v1655050382223/vzIfeTzTD.png)\r\n\r\nThis is simple, head into your Cypress directory and rename `cypress/support/index.js` to `cypress/support/e2e.js`\r\n\r\n![Cypress choosing a browser](https://cdn.hashnode.com/res/hashnode/image/upload/v1655050926555/IRYsEXeqS.png)\r\n\r\nNow we can choose a browser to launch our tests. Let's start testing in Chrome. When we click on it we'll see the option to create our first spec. But wait, where did all of our old test files go?\r\n\r\n![Cypress create first test](https://cdn.hashnode.com/res/hashnode/image/upload/v1655051002290/SJ6NgSJQ4.png)\r\n\r\nif we click on **View spec pattern** we'll see how it's looking for tests.\r\n\r\n![cypress view spec pattern](https://cdn.hashnode.com/res/hashnode/image/upload/v1655051037658/Fi5Jgj7T2.png)\r\n\r\nLooks like Cypress now defaults to the `**.cy.{js,jsx,ts,tsx}` extensions. Let's just update the spec pattern for the sake of our example project. In our Cypress configuration file let's add a new `specPattern` property.\r\n\r\n```js\r\nconst { defineConfig } = require('cypress');\r\n\r\nmodule.exports = defineConfig({\r\n\te2e: {\r\n\t\tbaseUrl: 'http://localhost:3000',\r\n\t\tspecPattern: 'cypress/integration/**/*.spec.js',\r\n\t},\r\n});\r\n```\r\n\r\nNow we'll see all of our tests again!\r\n\r\n![Cypress test list](https://cdn.hashnode.com/res/hashnode/image/upload/v1655051246737/ZaZLM5E9J.png)\r\n\r\nWe can now run our tests as normal.\r\n\r\n#### Some clean-up\r\n\r\nWe can also delete our `plugins` folder inside our `cypress` folder as it is no longer needed.\r\n\r\n### Wrapping it up\r\n\r\nDue to Cypress' new version, I decided it was best to first update our version. Next time we'll cover what I had to delay, hooking up our testing frameworks with a code coverage functionality.\r\n\r\n### Let's connect\r\n\r\nIf you liked this feel free to connect with me on [LinkedIn](https://www.linkedin.com/in/relatablecode) or [Twitter](https://twitter.com/relatablecoder)\r\n\r\nCheck out my free developer roadmap and weekly tech industry news in my [newsletter](https://relatablecode.substack.com/).\r\n","recommendations",[29,37,43,48],{"_7":30,"_9":31,"_11":12,"_13":32,"_15":33,"_19":35,"_21":22,"_23":36},"what-is-imposter-syndrome-and-how-i-deal-with-it","What is imposter syndrome? And how I deal with it","Imposter syndrome is a common feeling to have as a software developer even if you've been doing it for years. I go over my personal experiences with it.",[34],"devlog","https://cdn.hashnode.com/res/hashnode/image/upload/v1651102112425/KKsbnfbCK.png",4,{"_7":38,"_9":39,"_11":12,"_13":40,"_15":41,"_19":20,"_21":22,"_23":42},"testing-a-react-application-working-with-codecov","Testing a React Application Working with Codecov","How to test a React web application and upload the test code coverage results to Codecov.",[17,18],5,{"_7":44,"_9":45,"_11":12,"_13":46,"_15":47,"_19":20,"_21":22,"_23":36},"testing-a-react-application-what-is-vitest","Testing a React Application What is Vitest?","The third part of a series of articles on how to test a React Application. I go over how Vitest and its syntax work in the simplest terms.",[17,18],{"_7":49,"_9":50,"_11":12,"_13":51,"_15":52,"_19":20,"_21":22,"_23":36},"testing-a-react-application-the-setup","Testing a React Application The Setup","In the second part of my series on how to perform modern testing for a React application, I go over the setup of the react application and the testing packages.",[17,18]]
